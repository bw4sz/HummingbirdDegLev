Esperanza<-read.csv("InputData/IntMatrixESPE.csv")
Verdecocha<-read.csv("InputData/IntMatrixVERD.csv")
Yanacocha<-read.csv("InputData/IntMatrixYANA.csv")
dat<-list(Esperanza,Verdecocha,Yanacocha)
library(reshape2)
library(ggplot2)
library(bipartite)
dat<-list(Esperanza,Verdecocha,Yanacocha)
dat<-melt(list(Esperanza,Verdecocha,Yanacocha))
Esperanza<-read.csv("InputData/IntMatrixESPE.csv")
Esperanza
Esperanza<-read.csv("InputData/IntMatrixESPE.csv",sep=";")
Esperanza
Esperanza<-read.csv("InputData/IntMatrixESPE.csv",sep=";",row.names=1)
Esperanza
Esperanza<-read.csv("InputData/IntMatrixESPE.csv",sep=";",row.names=1)
Verdecocha<-read.csv("InputData/IntMatrixVERD.csv",sep=";",row.names=1)
Yanacocha<-read.csv("InputData/IntMatrixYANA.csv",sep=";",row.names=1)
dat<-melt(list(Esperanza,Verdecocha,Yanacocha))
head(dat)
dat<-melt(list(Esperanza=Esperanza,Verdecocha=Verdecocha,Yanacocha=Yanacocha))
head(dar)
head(dat)
colnames(dat)<-c("Hummingbirds","Visits","Sites")
head(dat)
tail(dat)
Esperanza
Esperanza<-melt(read.csv("InputData/IntMatrixESPE.csv",sep=";",row.names=1))
Esperanza
Esperanza<-read.csv("InputData/IntMatrixESPE.csv",sep=";",row.names=1)
Verdecocha<-read.csv("InputData/IntMatrixVERD.csv",sep=";",row.names=1)
Yanacocha<-read.csv("InputData/IntMatrixYANA.csv",sep=";",row.names=1)
Esperanza<-read.csv("InputData/IntMatrixESPE.csv",sep=";")
Esperanza<-read.csv("InputData/IntMatrixESPE.csv",sep=";")
Verdecocha<-read.csv("InputData/IntMatrixVERD.csv",sep=";")
Yanacocha<-read.csv("InputData/IntMatrixYANA.csv",sep=";")
dat<-melt(list(Esperanza=Esperanza,Verdecocha=Verdecocha,Yanacocha=Yanacocha))
head(dat)
Esperanza
dat<-melt(list(Esperanza=Esperanza,Verdecocha=Verdecocha,Yanacocha=Yanacocha))
colnames(dat)<-c("Plant","Hummingbird","Visits","Sites")
head(dat)
colnames(dat)<-c("Plant","Hummingbird","Visits","r","Sites")
head(dat)
dat$r<-NULL
ggplot(dat,aes(x=Hummingbird,y=Plant,fill=Visits)) + geom_tile() + facet_wrap(~Sites)
ggplot(dat,aes(x=Hummingbird,y=Plant,fill=Visits)) + geom_tile() + facet_wrap(~Sites,scales="free")
ggplot(dat,aes(x=Hummingbird,y=Plant,fill=Visits)) + geom_tile() + facet_wrap(~Sites,scales="free") + scale_color_continuous(low="blue",high="red")
ggplot(dat,aes(x=Hummingbird,y=Plant,fill=Visits)) + geom_tile() + facet_wrap(~Sites,scales="free") + scale_fill_continuous(low="blue",high="red")
Yanacocha
dat$Plant
Esperanza<-read.csv("InputData/IntMatrixESPE.csv",sep=";")
Verdecocha<-read.csv("InputData/IntMatrixVERD.csv",sep=";")
Yanacocha<-read.csv("InputData/IntMatrixYANA.csv",sep=";")
Yanacocha
Yanacocha$row.names
dat<-melt(list(Esperanza=Esperanza,Verdecocha=Verdecocha,Yanacocha=Yanacocha))
head(dat)
dat$X
Esperanza<-read.csv("InputData/IntMatrixESPE.csv",sep=";")
Verdecocha<-read.csv("InputData/IntMatrixVERD.csv",sep=";")
Yanacocha<-read.csv("InputData/IntMatrixYANA.csv",sep=";")
Yanacocha
Verdecocha<-read.csv("InputData/IntMatrixVERD.csv",sep=";")
Verdecocha
Esperanza
Verdecocha
Esperanza<-read.csv("InputData/IntMatrixESPE.csv",sep=";")
Verdecocha<-read.csv("InputData/IntMatrixVERD.csv",sep=";")
Yanacocha<-read.csv("InputData/IntMatrixYANA.csv",sep=";")
dat<-melt(list(Esperanza=Esperanza,Verdecocha=Verdecocha,Yanacocha=Yanacocha))
Esperanza<-read.csv("InputData/IntMatrixESPE.csv",sep=";",row.names=1)
Esperanza
Verdecocha<-read.csv("InputData/IntMatrixVERD.csv",sep=";",row.names=1)
Yanacocha<-read.csv("InputData/IntMatrixYANA.csv",sep=";",row.names=1)
dat<-melt(list(Esperanza=Esperanza,Verdecocha=Verdecocha,Yanacocha=Yanacocha))
head(dat)
head(dat)
dat<-melt(list(Esperanza=Esperanza,Verdecocha=Verdecocha,Yanacocha=Yanacocha),id.vars="row.names")
dat<-melt(list(Esperanza=Esperanza,Verdecocha=Verdecocha,Yanacocha=Yanacocha),id.vars="rownames")
dat<-melt(list(Esperanza=Esperanza,Verdecocha=Verdecocha,Yanacocha=Yanacocha),id.vars=1)
head(dat)
Esperanza
Verdecocha
Yanacocha
Esperanza$Plant<-rownames(Esperanza)
Verdecocha<-read.csv("InputData/IntMatrixVERD.csv",sep=";",row.names=1)
Verdecocha$Plant<-rownames(Verdecocha)
Esperanza<-read.csv("InputData/IntMatrixESPE.csv",sep=";",row.names=1)
Esperanza$Plant<-rownames(Esperanza)
Verdecocha<-read.csv("InputData/IntMatrixVERD.csv",sep=";",row.names=1)
Verdecocha$Plant<-rownames(Verdecocha)
Yanacocha<-read.csv("InputData/IntMatrixYANA.csv",sep=";",row.names=1)
Yanacocha$Plant<-rownames(Yanacocha)
dat<-melt(list(Esperanza=Esperanza,Verdecocha=Verdecocha,Yanacocha=Yanacocha))
head(dat)
colnames(dat)<-c("Plant","Hummingbird","Visits","r","Sites")
colnames(dat)<-c("Plant","Hummingbird","Visits","Sites")
ggplot(dat,aes(x=Hummingbird,y=Plant,fill=Visits)) + geom_tile() + facet_wrap(~Sites,scales="free") + scale_fill_continuous(low="blue",high="red") + theme_
ggplot(dat,aes(x=Hummingbird,y=Plant,fill=Visits)) + geom_tile() + facet_wrap(~Sites,scales="free") + scale_fill_continuous(low="blue",high="red")
ggplot(dat,aes(x=Hummingbird,y=Plant,fill=Visits)) + geom_tile() + facet_wrap(~Sites,scales="free",ncol=1) + scale_fill_continuous(low="blue",high="red")
head(dat)
ggplot(dat,aes(x=Hummingbird,y=Plant,fill=Visits)) + geom_tile() + facet_wrap(~Sites,scales="free",ncol=1) + scale_fill_continuous(low="white",high="red")
dat<-read.csv("InputData/InteractionData_Selspp.csv",sep=";",row.names=1)
#read in packages
library(reshape2)
library(ggplot2)
library(bipartite)
dat<-read.csv("InputData/InteractionData_Selspp.csv",sep=";",row.names=1)
dat<-read.csv("InputData/InteractionData_Selspp.csv",sep=";")
head(dat)
library(dplyr)
dat %>% group_by(Bird.ID,Plant.ID)
dat %>% group_by(Bird.ID,Plant.ID,Site,DegLev) %>% summarize()
dat %>% group_by(Bird.ID,Plant.ID,Site,DegLev) %>% summarize(n=n())
paste(dat$Month,dat$Day,dat$Year)
paste(dat$Month,dat$Day,dat$Year,sep="/")
dat$timestamp<-as.POSIXct(paste(dat$Month,dat$Day,dat$Year,sep="/"))
paste(dat$Month,dat$Day,dat$Year,sep="/")
as.POSIXct(paste(dat$Month,dat$Day,dat$Year,sep="/"))
as.POSIXct(paste(dat$Month,dat$Day,dat$Year,sep="/"))
as.POSIXct(paste(dat$Month,dat$Day,dat$Year,sep="/"),format="%M/%D/%Y")
as.POSIXct(paste(dat$Month,dat$Day,dat$Year,sep="/"),format="%m/%d/%y")
as.POSIXct(paste(dat$Month,dat$Day,dat$Year,sep="/"),format="%m/%d/%Y")
dat$timestamp<-as.POSIXct(paste(dat$Month,dat$Day,dat$Year,sep="/"),format="%m/%d/%Y")
head(dat)
dat %>% group_by(Bird.ID,Plant.ID,Site,DegLev) %>% summarize(n=n(),length(unique(timestamp)))
dat %>% group_by(Bird.ID,Plant.ID,Site,DegLev) %>% summarize(Yobs=n(),Days=length(unique(timestamp)))
sdat<-dat %>% group_by(Bird.ID,Plant.ID,Site,DegLev) %>% summarize(Yobs=n(),Days=length(unique(timestamp)))
sdat
sdat$Rate<-sdat$Yobs/sdat$Days
sdat$Rate
sdat$Rate<-round(sdat$Yobs/sdat$Days,2)
sdat$Rate
head(sdat)
ggplot(sdat,aes(x=Bird.ID,y=Plant.ID,fill=Yobs)) + geom_tile() + facet_wrap(~Site,scales="free",ncol=1) + scale_fill_continuous(low="white",high="red")
ggplot(sdat,aes(x=Bird.ID,y=Plant.ID,fill=Yobs)) + geom_tile() + facet_wrap(~Site,scales="free",ncol=1) + scale_fill_continuous(low="white",high="red") + theme_bw()
ggplot(sdat,aes(x=Bird.ID,y=Plant.ID,fill=Rate)) + geom_tile() + facet_wrap(~Site,scales="free",ncol=1) + scale_fill_continuous(low="white",high="red") + theme_bw()
ggplot(sdat,aes(x=Bird.ID,y=Plant.ID,fill=Rate)) + geom_tile() + facet_wrap(~Site,scales="free",ncol=1) + scale_fill_continuous(low="white",high="red") + theme_bw() + theme(axis.text.x=element_text(angle==90))
ggplot(sdat,aes(x=Bird.ID,y=Plant.ID,fill=Rate)) + geom_tile() + facet_wrap(~Site,scales="free",ncol=1) + scale_fill_continuous(low="white",high="red") + theme_bw() + theme(axis.text.x=element_text(angle=-90))
ggplot(sdat,aes(x=Bird.ID,y=Plant.ID,fill=Rate)) + geom_tile() + facet_wrap(~Site,scales="free",ncol=3) + scale_fill_continuous(low="white",high="red") + theme_bw() + theme(axis.text.x=element_text(angle=-90))
sdat$Plant.ID
dat$Plant.ID
levels(dat$Plant.ID)
dat<-read.csv("InputData/InteractionData_Selspp.csv",sep=";")
dat$Plant.ID
unique(dat$Plant.ID)
dat$Plant.ID
dat[dat$Site=="Yanacocha",]
dat[dat$Site=="Yanacocha","Plant.ID"]
unique(dat[dat$Site=="Yanacocha","Plant.ID"])
dat<-read.csv("InputData/InteractionData_Selspp.csv",sep=";")
dat$Plant.Family
dat$Plant.ID
unique(dat$Plant.ID)
